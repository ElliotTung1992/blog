#### redo日志和undo日志区别是什么

---

1. 功能不同
2. 记录内容和顺序不同
3. 持久性和回滚操作不同
4. 存储空间和性能影响不同
5. 应用场景不同

##### 功能不同

redo日志和undo日志在数据库系统中具有不同的功能：

- redo日志（重做日志）是一种用于恢复操作的日志记录。当数据库执行修改操作时，redo日志会记录这些操作的详细信息，

​	包括修改的数据、操作类型以及所在的数据块位置等。redo日志的主要作用是在系统崩溃或发生故障时，将未完成的操

​	作重新执行，从而恢复数据库的一致性。

- undo日志（撤销日志）是一种用于回滚操作的日志记录。当数据库执行事务时，undo日志会记录事务对数据的修改操作，

  以便在事务回滚时撤销这些操作。undo日志主要作用是确保事务回滚后数据库的一致性。

##### 记录内容和顺序不同

redo日志和undo日志的记录内容和顺序也存在差异:

- rodo日志记录的是已经发生的事务修改操作，包括数据块的修改和事务提交等。它记录的是最新的数据状态，它记录的是最新

​	的数据状态，因此可以在系统恢复时重新执行这些操作，确保数据库的完整性和一致性。redo日志的记录顺序是顺序写入的，

​	以提高写入性能和顺序IO操作的效率。

- undo日志记录的是事务执行前的数据状态，即事务执行前的数据快照。当事务回滚时，undo日志可以使用这些快照信息将数据

  恢复到事务开始前的状态。undo日志的记录顺序是随机写入的，因为它需要记录事务执行期间的数据修改操作。

##### 持久性和回滚操作不同

redo日志和undo日志在持久性和回滚操作方面也有所不同：

- redo日志的记录是在事务提交之前就写入磁盘的，以确保操作的持久性。者意味着即使系统崩溃或发生故障，redo日志中的操作

  也可以通过重新执行来恢复。redo日志的持久性确保了数据库的一致性和可靠性

- undo日志的记录并并不是在事务执行期间就写入磁盘的，而是在事务回滚时才使用。当事务回滚时，系统会使用undo日志中的信息

​	将数据恢复到事务开始前的状态。undo日志的存在确保了事务的原子性和一致性

##### 存储空间和性能影响不同

redo日志和undo日志对数据库系统的存储空间和性能也有一定的影响

- redo日志是在事务执行期间产生的，因此它的记录量相对较大。由于redo日志需要保证持久性，它通常会被写入磁盘中的日志文件。

  这会占用一定的存储空间，并对数据库的性能产生一定的影响。为了提高性能，数据库系统通常采用批量写入和日志刷写等技术来减

  少redo日志的写入次数。

- undo日志的记录量相对较小。因为undo日志不需要保证持久性，它通常存储在内存中或者临时文件中。者减少了对磁盘存储空间的

  占用，并对数据库系统的性能影响较小。

##### 应用场景不用

redo日志和undo日志在数据库事务中具有不同的应用场景:

- redo日志主要应用于数据库系统的故障恢复和故障处理中。当系统崩溃和发生故障的时候，数据库系统可以利用redo日志重新执行未

  完成的操作，从而实现数据的恢复。redo日志的应用场景包括数据库恢复、系统崩溃恢复和故障恢复等。

- undo日志主要应用于数据库事务的回滚操作。当事务执行失败或者需要撤销时，数据库系统可以利用undo日志将数据恢复到事务开

  始前的状态，实现事务的回滚。undo日志的应用场景包括事务回滚、并发控制和兵法恢复等。



















