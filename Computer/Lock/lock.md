#### 1. 理论

##### 1.1 CAS

cpu硬件同步原语(compare and swap)

CAS是支持并发的第一个处理器提供原子的测试并设置操作, 通常在单位上运行这项操作.操作数为V,A,B.

CAS 操作包含三个操作数 —— 内存位置（V）、预期原值（A）和新值(B)。如果内存位置的值与预期原值相匹配，那么处理器会自动将该位置值更新为新值。否则，处理器不做任何操作。无论哪种情况，它都会在 CAS 指令之前返回该位置的值。



#### 2. Java中常见的锁

##### 2.1 JUC下的锁

2.1.1 AtomicInteger

AtomicInteger的使用: 线程池状态的控制

##### 2.2 synchronized关键字

2.2.1 synchronized的使用

1. 一把锁只能被一个线程占用, 未获取到锁的线程只能等待
2. synchronized锁分对象锁和类锁, 对象锁:不同实例之间互不影响;类锁: 所有对象共用一把锁.
3. synchronized修饰的方法, 无论方法执行完毕还是抛出异常都会释放锁.

2.2.2 对象锁

1. 方法锁(锁对象默认为this)
2. 同步代码块锁(手动指定锁对象)

2.2.2 类锁

1. 修饰静态方法
2. 同步代码块锁(指定锁对象为Class对象)

##### 2.3 LockSupport



#### 4. 分布式锁



#### 锁的类型

---

##### 1. 公平锁和非公平锁

##### 2. 可重入锁

##### 3. 读写锁

Q5UW

























