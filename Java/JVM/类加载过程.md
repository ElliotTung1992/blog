#### 类的生命周期

---

类从被加载到虚拟机内存中到卸载出内存, 它的整个生命周期可以简单概括为7个阶段:

1. 加载(loading)
2. 验证(verification) - 链接(linking)
3. 准备(preparation) - 链接
4. 解析(resolution) - 链接
5. 初始化(initialization)
6. 使用(using)
7. 卸载(unloading)

#### 类的加载过程

---

Class文件需要加载到虚拟机中之后才能运行和使用, 那么虚拟机是如何加载这些Class文件呢？

系统加载Class类型的文件主要三步: 加载->链接->初始化. 

链接过程又可以分为三步: 验证->准备->解析.

#### 加载

---

类加载过程主要完成下面3件事情:

1. 通过全类名获取定义此类的二进制字节流
1. 将字节流所代表的静态存储结构转换为方法区的运行时数据结构
1. 在内存中生成一个代表该类的`Class`对象, 作为方法区这些数据的访问入口

加载这一步骤主要通过类加载器完成. 类加载器有很多种, 当我们想要加载一个类的时候，具体是哪个类加载器加载由 **双亲委派模型** 决定.

每个Java类都有一个引用指向加载它的`ClassLoader`. 不过, 数组类不是通过`ClassLoader`创建的, 而是JVM在需要的时候自动创建的, 数组类通过`getClassLoader()`方法获取`ClassLoader`的时候和该数组的元素类型的`ClassLoader`是一致的.

加载阶段和链接阶段的部分动作是交叉进行的, 加载阶段尚未结束, 链接阶段可能就已经开始了.

##### 验证

##### 准备

##### 解析

##### 初始化

##### 类卸载



























